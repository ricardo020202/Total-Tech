<%- include('includes/sidebar.ejs') %>
<%- include('includes/headAdmin.ejs') %>
<link rel="stylesheet" href="/css/adminStyle.css">

<div class="container">
  <h1 class="text-center mt-2">Registro de Roles - Onyx</h1>
  <div class="row justify-content-center">
    <form class="col-md-6 mt-5" action="/admin/adminDashboard/reg_rol" method="post">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
      <div class="form-group">
        <% if (typeof mensaje !== 'undefined' && mensaje !== '') { %>
        <div class="alert alert-success">
          <p><%=mensaje%></p>
        </div>
        <% } %>
        <div class="form-group">
          <label for="nombreRol">Nombre del Rol:</label>
          <input type="text" class="form-control" name="nombreRol" id="nombreRol" required>
          <div class="form-group text-center mt-2" style="width: 100px;">
          <button type="submit" class="btn btn-custom">Registrar</button>
        </div>
      </div>
      </div>
      <br>
      <label>Privilegios:</label>
      <div class="container col-md-10">
        <table class="table table-active table-striped" style="margin: 0 auto;">
          <thead>
            <tr>
              <th>ID</th>
              <th>Privilegios</th>
              <th>Selec.</th>
            </tr>
          </thead>
          <tbody>
            <% privilegios.forEach(function(privilegio) { %>
              <tr>
                <td><%= privilegio.id_cu %></td>
                <td><%= privilegio.nombrecu %></td>
                <td><input type="checkbox" name="privilegios" value="<%= privilegio.id_cu %>"></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
      <br>
      <label>Roles Registrados:</label>
      <div class="col-md-10">
        <div class="container">
          <table class="table table-active table-striped" style="margin: 0 auto;">
            <thead class="sticky-top">
              <tr>
                <th>ID</th>
                <th>Nombre del Rol</th>
              </tr>
            </thead>
            <tbody>
              <% roles.forEach(function(rol) { %>
              <tr>
                <td><%= rol.id_rol %></td>
                <td><%= rol.nombreRol %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
      <br>
      
    </form>
  </div>
</div>

